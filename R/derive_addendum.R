#' Derive, label, and add addendum variables to the merged data set.
#'
#' @param data A data frame containing VMAC variables.
#' @return \code{data} with added addendum variables.
#' @export

derive_addendum <- function(data) {

  data <- within(data, {
    label(np.date.addend)="NP Assessment - date"
    label(np.pvlt1)="PVLT List A Trial 1 Correct"
    label(np.pvlt1.intrus)="PVLT List A Trial 1 Intrusions"
    label(np.pvlt1.pers)="PVLT List A Trial 1 Perseverations"
    label(np.pvlt1.clust)="PVLT List A Trial 1 Clusters"
    label(np.pvlt2)="PVLT List A Trial 2 Correct"
    label(np.pvlt2.intrus)="PVLT List A Trial 2 Intrusions"
    label(np.pvlt2.pers)="PVLT List A Trial 2 Perseverations"
    label(np.pvlt2.clust)="PVLT List A Trial 2 Clusters"
    label(np.pvlt3)="PVLT List A Trial 3 Correct"
    label(np.pvlt3.intrus)="PVLT List A Trial 3 Intrusions"
    label(np.pvlt3.pers)="PVLT List A Trial 3 Perseverations"
    label(np.pvlt3.clust)="PVLT List A Trial 3 Clusters"
    label(np.pvlt4)="PVLT List A Trial 4 Correct"
    label(np.pvlt4.intrus)="PVLT List A Trial 4 Intrusions"
    label(np.pvlt4.pers)="PVLT List A Trial 4 Perseverations"
    label(np.pvlt4.clust)="PVLT List A Trial 4 Clusters"
    label(np.pvlt5)="PVLT List A Trial 5 Correct"
    label(np.pvlt5.intrus)="PVLT List A Trial 5 Intrusions"
    label(np.pvlt5.pers)="PVLT List A Trial 5 Perseverations"
    label(np.pvlt5.clust)="PVLT List A Trial 5 Clusters"
    label(np.pvlta.tot)="PVLT Trial 1-5 Total Correct"
    label(np.pvlta.intrus)="PVLT Trial 1-5 Total Intrusions"
    label(np.pvlta.pers)="PVLT Trial 1-5 Total Perseverations"
    label(np.pvlta.clust)="PVLT Trial 1-5 Total Clusters"
    label(np.pvlt.init.intrus)="PVLT Initial (First Time) Intrusions"
    label(np.pvlt.tt.intrus)="PVLT Trans Trial (Recurring) Intrusions"
    label(np.pvlt.wt.pers)="PVLT Within Trial Perseverations"
    label(np.pvlta.prim)="PVLT List A Primacy"
    label(np.pvlta.mid)="PVLT List A Middle"
    label(np.pvlta.rec)="PVLT List A Recency"
    label(np.pvlta.primperc)="PVLT List A % Primacy"
    label(np.pvlta.midperc)="PVLT List A % Middle"
    label(np.pvlta.recperc)="PVLT List A % Recency"
    label(np.pvlt6)="PVLT Interference Trial (tr 6) Correct "
    label(np.pvlt6.intrus)="PVLT Interference Trial (tr 6) Intrusions"
    label(np.pvlt6.aintrus)="PVLT List A Intrusions on Intereference Trial (tr 6)"
    label(np.pvlt6.pers)="PVLT Interference Trial (tr 6) Perseverations"
    label(np.pvlt6.clust)="PVLT Interference Trial (tr 6) Clusters"
    label(np.pvlt7)="PVLT Short Delay Free Recall (Trial 7) Correct"
    label(np.pvlt7.intrus)="PVLT Short Delay Free Recall (Trial 7) Intrusions"
    label(np.pvlt7.intrusb)="PVLT Short Delay Free Recall (Trial 7) List B Intrusions"
    label(np.pvlt7.pers)="PVLT Short Delay Free Recall (Trial 7) Perseverations"
    label(np.pvlt7.clust)="PVLT Short Delay Free Recall (Trial 7) Clusters"
    label(np.pvlt8.fruit)="PVLT Short Delay Cued Recall (Trial 8) Fruit Correct"
    label(np.pvlt8.office)="PVLT Short Delay Cued Recall (Trial 8) Office Supplies Correct"
    label(np.pvlt8.clothing)="PVLT Short Delay Cued Recall (Trial 8) Clothing Correct"
    label(np.pvlt8)="PVLT Short Delay Cued Recall (Trial 8) Total"
    label(np.pvlt8.intrus)="PVLT Short Delay Cued Recall (Trial 8) Intrusions"
    label(np.pvlt8.intrusb)="PVLT Short Delay Cued Recall (Trial 8) List B Intrusions"
    label(np.pvlt8.pers)="PVLT Short Delay Cued Recall (Trial 8) Perseverations"
    label(np.pvlt9)="PVLT Long Delay Free Recall (Trial 9) Correct"
    label(np.pvlt9.intrus)="PVLT Long Delay Free Recall (Trial 9) Intrusions"
    label(np.pvlt9.intrusb)="PVLT Long Delay Free Recall (Trial 9) List B Intrusions"
    label(np.pvlt9.pers)="PVLT Long Delay Free Recall (Trial 9) Perseverations"
    label(np.pvlt9.clust)="PVLT Long Delay Free Recall (Trial 9) Clusters"
    label(np.pvlt10.fruit)="PVLT Long Delay Cued Recall (Trial 10) Fruit Correct"
    label(np.pvlt10.office)="PVLT Long Delay Cued Recall (Trial 10) Office Supplies Correct"
    label(np.pvlt10.clothing)="PVLT Long Delay Cued Recall (Trial 10) Clothing Correct"
    label(np.pvlt10)="PVLT Long Delay Cued Recall (Trial 10) Total"
    label(np.pvlt10.intrus)="PVLT Long Delay Cued Recall (Trial 10) Intrusions"
    label(np.pvlt10.intrusb)="PVLT Long Delay Cued Recall (Trial 10) List B Intrusions"
    label(np.pvlt10.pers)="PVLT Long Delay Cued Recall (Trial 10) Perseverations"
    label(np.pvltrecog.m)="PVLT Recognition Total Monday (List A)"
    label(np.pvltrecog.ts)="PVLT Recognition Total Tuesday (List B)"
    label(np.pvltrecog.tu1)="PVLT Recognition Total TU1 (Unshared Category)"
    label(np.pvltrecog.ts1)="PVLT Recognition Total TS1 (Shared Category)"
    label(np.pvltrecog.sem)="PVLT Recognition Total SEM (Semantic Foils)"
    label(np.pvltrecog.ur)="PVLT Recognition Total UR (Unrelated Foils)"
    label(np.pvltrecog.foil)="PVLT Recognition Total Foils"
    label(np.pvltrecog.falsepos)="PVLT Recognition Total False Positives"
    label(np.pvltrecog.discrim)="PVLT Recognition Discriminability"
    label(np.pvlt5.sdfr)="PVLT Trial 5 to SDFR"
    label(np.pvlt5.ldfr)="PVLT Trial 5 to LDFR"
    label(np.pvlt.sdfr.sdcr)="PVLT SDFR to SDCR"
    label(np.pvlt.ldfr.ldcr)="PVLT LDFR to LDCR"
    label(np.pvlt.sdfr.ldfr)="PVLT SDFR to LDFT"
    label(np.pvlt.ldfr.dr)="PVLT LDFR to DR"
    label(np.pvlt5.dr)="PVLT Trial 5 to DR"
    label(np.pvltb.listb.foils)="List B to List B Foils"
    label(np.pvlt.sdfr)="PVLT Francis and Kucera SDFR"
    label(np.pvlt.ldfr)="PVLT Francis and Kucera LDFR"
    label(np.pvlt.sdcr)="PVLT Francis and Kucera SDCR"
    label(np.pvlt.ldcr)="PVLT Francis and Kucera LDCR"
    label(np.pvlt.intrus.free)="PVLT Free Recall Instrusions"
    label(np.pvlt.intrus.cued)="PVLT Cued Recall Intrusions"
    label(np.pvlt.pers)="PVLT Perseverations"
    label(np.pvlt.perc.free.intrus)="PVLT % Free Recall Intrusions"
    label(np.pvlt.perc.cued.intrus)="PVLT % Cued Recall Intrusions"
    label(np.pvlt.perc.pers)="PVLT % Perseverations"
    label(np.pvlt.notes)="PVLT Administrative Issues"
    label(np.pvlt.invalid)="PVLT Invalidated by Administrative Issue"
    label(np.mc1.time)="MC Counting 20-1 (Item 1) Time"
    label(np.mc1.omissions)="MC Counting 20-1 (Item 1) Omissions"
    label(np.mc1.falsepos)="MC Counting 20-1 (Item 1) False Positives"
    label(np.mc1.sc)="MC Counting 20-1 (Item 1) Self-Corrections"
    label(np.mc1.acc)="MC Counting 20-1 (Item 1) Accuracy Index"
    label(np.mc1)="MC Counting 20-1 (Item 1) Score"
    label(np.mc2.time)="MC Alphabet (Item 2) Time"
    label(np.mc2.omissions)="MC Alphabet (Item 2) Omissions"
    label(np.mc2.falsepos)="MC Alphabet (Item 2) False Positives"
    label(np.mc2.sc)="MC Alphabet (Item 2) Self-Corrections"
    label(np.mc2.acc)="MC Alphabet (Item 2) Accuracy Index"
    label(np.mc2)="MC Alphabet (Item 2) Score"
    label(np.mc3.time)="MC Count Serial 3s (Item 3) Time"
    label(np.mc3.omissions)="MC Count Serial 3s (Item 3) Omissions"
    label(np.mc3.falsepos)="MC Count Serial 3s (Item 3) False Positives"
    label(np.mc3.sc)="MC Count Serial 3s (Item 3) Self-Corrections"
    label(np.mc3.acc)="MC Count Serial 3s (Item 3) Accuracy Index"
    label(np.mc3)="MC Count Serial 3s (Item 3) Score"
    label(np.mc4.time)="MC Months Forward (Item 4) Time"
    label(np.mc4.omissions)="MC Months Forward (Item 4) Omissions"
    label(np.mc4.falsepos)="MC Months Forward (Item 4) False Positives"
    label(np.mc4.sc)="MC Months Forward (Item 4) Self-Corrections"
    label(np.mc4.acc)="MC Months Forward (Item 4) Accuracy Index"
    label(np.mc4)="MC Months Forward (Item 4) Score"
    label(np.mc5.time)="MC Months Backward (Item 5) Time"
    label(np.mc5.omissions)="MC Months Backward (Item 5) Omissions"
    label(np.mc5.falsepos)="MC Months Backward (Item 5) False Positives"
    label(np.mc5.sc)="MC Months Backward (Item 5) Self-Corrections"
    label(np.mc5.acc)="MC Months Backward (Item 5) Accuracy Index"
    label(np.mc5)="MC Months Backward (Item 5) Score"
    label(np.mc6.time)="MC Rhymes Key (Item 6) Time"
    label(np.mc6.omissions)="MC Rhymes Key (Item 6) Omissions"
    label(np.mc6.falsepos)="MC Rhymes Key (Item 6) False Positives"
    label(np.mc6.sc)="MC Rhymes Key (Item 6) Self-Corrections"
    label(np.mc6.acc)="MC Rhymes Key (Item 6) Accuracy Index"
    label(np.mc6)="MC Rhymes Key (Item 6) Score"
    label(np.mc7.time)="MC Curved Line (Item 7) Time"
    label(np.mc7.omissions)="MC Curved Line (Item 7) Omissions"
    label(np.mc7.falsepos)="MC Curved Line (Item 7) False Positives"
    label(np.mc7.sc)="MC Curved Line (Item 7) Self-Corrections"
    label(np.mc7.acc)="MC Curved Line (Item 7) Accuracy Index"
    label(np.mc7)="MC Curved Line (Item 7) Score"
    label(np.mc8.time)="MC Subtract Serial 4s (Item 8) Time"
    label(np.mc8.omissions)="MC Subtract Serial 4s (Item 8) Omissions"
    label(np.mc8.falsepos)="MC Subtract Serial 4s (Item 8) False Positives"
    label(np.mc8.sc)="MC Subtract Serial 4s (Item 8) Self-Corrections"
    label(np.mc8.acc)="MC Subtract Serial 4s (Item 8) Accuracy Index"
    label(np.mc8)="MC Subtract Serial 4s (Item 8) Score"
    label(np.mc.auto.mc)="MC Automatized MC"
    label(np.mc.nonauto.mc)="MC Non-Automatized MC"
    label(np.mc.kaplan)="MC Kaplan-Baycrest Sequence Modified Raw Score"
    label(np.mc.kaplan.ss)="MC Kaplan-Baycrest Sequence Modified Scaled Score"
    label(np.mc.notes)="MC Administrative Issues"
    label(np.mc.invalid)="MC Invalidated by Administrative Issue"
    label(np.symbol)="Symbol Span Raw Total"
    label(np.symbol.ss)="Symbol Span Scaled Score"
    label(np.symbol.trials)="Symbol Span Number of Correct Trials"
    label(np.symbol.any)="Any Order Forwards % (Calculator)"
    label(np.symbol.serial)="Serial Order Forward % (Calculator)"
    label(np.symbol.span.err)="Total Span Errors"
    label(np.symbol.pers.err)="Total Perseveration Errors"
    label(np.symbol.notes)="Symbol Span Administrative Issues"
    label(np.symbol.invalid)="Symbol Span Invalidated by Administrative Issue"
    label(np.3digits.1st)="Backward Digits 3-span 1st Response % Correct"
    label(np.3digits.3rd)="Backward Digits 3-span 3rd Response % Correct"
    label(np.3digits.2nd)="Backward Digits 3-span 2nd Response % Correct"
    label(np.3digits.any)="Backward Digits 3-span Any Order"
    label(np.3digits.serial)="Backward Digits 3-span Serial Order"
    label(np.3digits.out.seq)="Backward Digits 3-span % Out-of-Sequence"
    label(np.3digits.btpers)="Backward Digits 3-span B/t Perseverations"
    label(np.3digits.wtpers)="Backward Digits 3-span W/t Perseverations"
    label(np.3digits.btcap)="Backward Digits 3-span B/t Capture"
    label(np.3digits.wtcap)="Backward Digits 3-span W/t Capture"
    label(np.3digits.span)="Backward Digits 3-span Span"
    label(np.3digits.intrus)="Backward Digits 3-span Intrusions"
    label(np.3digits.cap)="Backward Digits 3-span Capture"
    label(np.3digits.frontal)="Backward Digits 3-span Frontal"
    label(np.3digits.errors)="Backward Digits 3-span Total Errors"
    label(np.3digits.btcfor)="Backward Digits 3-span BtC - Forwards"
    label(np.3digits.btcback)="Backward Digits 3-span BtC - Backwards"
    label(np.3digits.wtcfor)="Backward Digits 3-span WtC - Forwards"
    label(np.3digits.wtcback)="Backward Digits 3-span WtC - Backwards"
    label(np.4digits.1st)="Backward Digits 4-span 1st Response % Correct"
    label(np.4digits.4th)="Backward Digits 4-span 4th Response % Correct"
    label(np.4digits.2nd)="Backward Digits 4-span 2nd Response % Correct"
    label(np.4digits.3rd)="Backward Digits 4-span 3rd Response % Correct"
    label(np.4digits.any)="Backward Digits 4-span Any Order"
    label(np.4digits.serial)="Backward Digits 4-span Serial Order"
    label(np.4digits.out.seq)="Backward Digits 4-span % Out-of-Sequence"
    label(np.4digits.btpers)="Backward Digits 4-span B/t Perseverations"
    label(np.4digits.wtpers)="Backward Digits 4-span W/t Perseverations"
    label(np.4digits.btcap)="Backward Digits 4-span B/t Capture"
    label(np.4digits.wtcap)="Backward Digits 4-span W/t Capture"
    label(np.4digits.span)="Backward Digits 4-span Span"
    label(np.4digits.intrus)="Backward Digits 4-span Intrusions"
    label(np.4digits.cap)="Backward Digits 4-span Capture"
    label(np.4digits.frontal)="Backward Digits 4-span Frontal"
    label(np.4digits.errors)="Backward Digits 4-span Total Errors"
    label(np.4digits.btcfor)="Backward Digits 4-span BtC - Forwards"
    label(np.4digits.btcback)="Backward Digits 4-span BtC - Backwards"
    label(np.4digits.wtcfor)="Backward Digits 4-span WtC - Forwards"
    label(np.4digits.wtcback)="Backward Digits 4-span WtC - Backwards"
    label(np.5digits.1st)="Backward Digits 5-span 1st Response % Correct"
    label(np.5digits.5th)="Backward Digits 5-span 5th Response % Correct"
    label(np.5digits.2nd)="Backward Digits 5-span 2nd Response % Correct"
    label(np.5digits.3rd)="Backward Digits 5-span 3rd Response % Correct"
    label(np.5digits.4th)="Backward Digits 5-span 4th Response % Correct"
    label(np.5digits.any)="Backward Digits 5-span Any Order"
    label(np.5digits.serial)="Backward Digits 5-span Serial Order"
    label(np.5digits.out.seq)="Backward Digits 5-span % Out-of-Sequence"
    label(np.5digits.btpers)="Backward Digits 5-span B/t Perseverations"
    label(np.5digits.wpers)="Backward Digits 5-span W/t Perseverations"
    label(np.5digits.btcap)="Backward Digits 5-span B/t Capture"
    label(np.5digits.wtcap)="Backward Digits 5-span W/t Capture"
    label(np.5digits.span)="Backward Digits 5-span Span"
    label(np.5digits.intrus)="Backward Digits 5-span Intrusions"
    label(np.5digits.cap)="Backward Digits 5-span Capture"
    label(np.5digits.frontal)="Backward Digits 5-span Frontal"
    label(np.5digits.errors)="Backward Digits 5-span Total Errors"
    label(np.5digits.btcfor)="Backward Digits 5-span BtC - Forwards"
    label(np.5digits.btcback)="Backward Digits 5-span BtC - Backwards"
    label(np.5digits.wtcfor)="Backward Digits 5-span WtC - Forwards"
    label(np.5digits.wtcback)="Backward Digits 5-span WtC - Backwards"
    label(np.digits.any)="Backward Digits Total Any Order"
    label(np.digits.any.z)="Backward Digits Total Z-Score"
    label(np.digits.serial)="Backward Digits Total Serial Order"
    label(np.digits.serial.z)="Backward Digits Total Serial Z-Score"
    label(np.digits.trials)="Backward Digits Total Trials Correct"
    label(np.digits.out.seq)="Backward Digits Total % Out-of-Sequence"
    label(np.digits.prim)="Backward Digits Total Primacy"
    label(np.digits.rec)="Backward Digits Total Recency"
    label(np.digits.mid)="Backward Digits Total Middle Columns"
    label(np.digits.btpers)="Backward Digits Total B/t Perseverations"
    label(np.digits.wtpers)="Backward Digits Total W/t Perseverations"
    label(np.digits.btcap)="Backward Digits Total B/t Capture"
    label(np.digits.wtcap)="Backward Digits Total W/t Capture"
    label(np.digits.span)="Backward Digits Total Span"
    label(np.digits.intrus)="Backward Digits Total Intrusions"
    label(np.digits.cap)="Backward Digits Total Capture"
    label(np.digits.frontal)="Backward Digits Total Frontal"
    label(np.digits.errors)="Backward Digits Total Errors"
    label(np.digits.btcfor)="Backward Digits Total BtC - Forwards"
    label(np.digits.btcback)="Backward Digits Total BtC - Backwards"
    label(np.digits.wtcfor)="Backward Digits Total WtC - Forwards"
    label(np.digits.wtcback)="Backward Digits Total WtC - Backwards"
    label(np.digits.notes)="Backward Digits Administrative Issues"
    label(np.digits.invalid)="Backward Digits Invalidated by Administrative Issue"
    label(np.notes.addend)="neuropsych examiner notes (addendum)"
    label(neuropsychological.assessment.complete.addend)="Complete? (addendum)"

    #Setting Factors (will create new variable for factors)
    np.pvlt.invalid.factor = factor(np.pvlt.invalid,levels=c("1","0"))
    np.mc.invalid.factor = factor(np.mc.invalid,levels=c("1","0"))
    np.symbol.invalid.factor = factor(np.symbol.invalid,levels=c("1","0"))
    np.digits.invalid.factor = factor(np.digits.invalid,levels=c("1","0"))
    neuropsychological.assessment.complete.addend.factor = factor(neuropsychological.assessment.complete.addend,levels=c("0","1","2"))

    levels(np.pvlt.invalid.factor)=c("Yes","No")
    levels(np.mc.invalid.factor)=c("Yes","No")
    levels(np.symbol.invalid.factor)=c("Yes","No")
    levels(np.digits.invalid.factor)=c("Yes","No")
    levels(neuropsychological.assessment.complete.addend.factor)=c("Incomplete","Unverified","Complete")

  })

  return(data)
}
